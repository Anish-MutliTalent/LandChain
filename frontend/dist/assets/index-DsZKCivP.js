const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CXzdPHn2.js","assets/index-DPe3i_VP.js","assets/index-BkWRKyNb.css","assets/read-contract-CaWjiZj3.js","assets/addresses-Cbjra2SQ.js","assets/send-eip712-transaction-CuNPfN8E.js","assets/eth_sendRawTransaction-DPdnXbFR.js","assets/concat-hex-Cvyvp76r.js","assets/random-BkU3W84C.js"])))=>i.map(i=>d[i]);
import{G as f,_ as o}from"./index-DPe3i_VP.js";import{s}from"./types-DlKe2M91.js";const A=f({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]});async function E(c,u,n){var h,i,m,r;if(((h=u==null?void 0:u.auth)==null?void 0:h.mode)!=="popup"&&((i=u==null?void 0:u.auth)==null?void 0:i.mode)!==void 0&&n.authenticateWithRedirect){const l=c.strategy;s.includes(l)&&await n.authenticateWithRedirect(l,(m=u==null?void 0:u.auth)==null?void 0:m.mode,(r=u==null?void 0:u.auth)==null?void 0:r.redirectUrl)}const t=(await n.connect(c)).user.account;if(u&&"smartAccount"in u&&(u!=null&&u.smartAccount)){const[l,e]=await d({client:c.client,authAccount:t,smartAccountOptions:u.smartAccount,chain:c.chain});return{account:l,chain:e,adminAccount:t}}return{account:t,chain:c.chain||A}}async function _(c,u,n){c.authResult&&n.loginWithAuthToken&&await n.loginWithAuthToken(c.authResult);const a=await w(n);if(!a)throw new Error("Failed to authenticate user.");const t=a.account;if(u&&"smartAccount"in u&&(u!=null&&u.smartAccount)){const[h,i]=await d({client:c.client,authAccount:t,smartAccountOptions:u.smartAccount,chain:c.chain});return{account:h,chain:i,adminAccount:t}}return{account:t,chain:c.chain||A}}async function d(c){const{connectSmartAccount:u}=await o(async()=>{const{connectSmartAccount:n}=await import("./index-CXzdPHn2.js").then(a=>a.i);return{connectSmartAccount:n}},__vite__mapDeps([0,1,2,3,4,5,6,7,8]));return u({client:c.client,personalAccount:c.authAccount,chain:c.chain},c.smartAccountOptions)}async function w(c){const u=await c.getUser();switch(u.status){case"Logged In, Wallet Initialized":return u}}export{_ as autoConnectInAppWallet,E as connectInAppWallet};
